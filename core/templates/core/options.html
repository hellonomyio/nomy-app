{% extends "base.html" %}
{% load static %}
{% block title %}NOMY{% endblock %}
{% block content %}
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">

<style>
  :root {
    --bg:#ffffff;
    --card-1:#e1dcf9;
    --card-2:#e9c3f1;
    --card-3:#eaeaf5;
    --card-4:#f9efe3;
    --ink:#1f003d;
    --shadow:0 18px 40px rgba(17,12,40,.10);
    --radius:26px;
    --navbar-height: 60px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--ink);
    font-family: 'DM Sans', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .zoom-wrapper {
    transform: scale(0.9);
    transform-origin: top center;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: calc(100vh - var(--navbar-height));
    justify-content: center;
  }

  main.wrap {
    max-width: 900px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 85px;
  }

  h2 {
    text-align: center;
    font-size: clamp(20px, 2.5vw, 28px);
    line-height: 1.3;
    font-weight: 400;
    color: var(--ink);
  }

  .options {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, minmax(260px, 360px));
    gap: 60px 64px;
    justify-content: center;
  }

  .tile {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: var(--ink);
    height: 110px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 16px 24px;
    transition: transform .12s ease, box-shadow .25s ease;
    font-size: 20px;
    font-weight: 400;
  }

  .tile:hover {
    transform: translateY(-2px);
    box-shadow: 0 22px 48px rgba(17,12,40,.14);
  }

  .t1 { background: var(--card-1); }
  .t2 { background: var(--card-2); }
  .t3 { background: var(--card-3); }
  .t4 { background: var(--card-4); }

  /* info icon */
  .info-btn {
    position: absolute;
    top: 10px;
    right: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: rgba(36,22,63,0.08);
    font-size: 13px;
    font-weight: 600;
    color: var(--ink);
    cursor: help;
    z-index: 3;
    transition: background .2s ease;
  }

  .info-btn:hover,
  .info-btn:focus {
    background: rgba(36,22,63,0.15);
    outline: none;
  }

  /* tooltip */
  .tooltip {
    position: absolute;
    top: 42px;
    right: 10px;
    background: #f1f1ff;
    color: var(--ink);
    font-size: 14px;
    line-height: 1.4;
    border-radius: 12px;
    box-shadow: 0 4px 18px rgba(17,12,40,.1);
    padding: 10px 14px;
    opacity: 0;
    pointer-events: none;
    transition: opacity .25s ease;
    width: max-content;
    max-width: 220px;
    text-align: left;
    z-index: 5;
  }

  .info-btn:hover + .tooltip,
  .info-btn:focus + .tooltip {
    opacity: 1;
  }

  /* helper text */
  .helper-text {
    margin-top: 20px;
    font-size: 15px;
    color: rgba(31,0,61,0.65);
    text-align: center;
  }

  /* avatar bottom-left */
  .avatar {
    position: fixed;
    bottom: 22px;
    left: 100px;
    width: 150px;
    height: auto;
    opacity: 0.9;
    pointer-events: none;
    z-index: 5;
    background: none !important;
    filter: drop-shadow(0 0 1px rgba(0,0,0,0.1));
    transform-origin: bottom center;
  }

  @keyframes avatar-breathe {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-4px) scale(1.02); }
    100% { transform: translateY(0) scale(1); }
  }

  @keyframes avatar-sway {
    0% { transform: rotate(0deg); }
    50% { transform: rotate(1.3deg); }
    100% { transform: rotate(0deg); }
  }

  .avatar.breathe {
    animation: avatar-breathe 4s ease-in-out infinite;
  }

  .avatar.sway {
    animation: avatar-sway 6s ease-in-out infinite;
  }

  @media(max-width: 720px) {
    .zoom-wrapper { transform: scale(1); }
    .options { grid-template-columns: 1fr; gap: 20px; }
    .avatar { width: 80px; left: 20px; bottom: 16px; }
  }
</style>

<div class="zoom-wrapper">
  <main class="wrap">
    <h2>What would you like to do today?</h2>

    <div class="options" aria-label="Main options">

      <a class="tile t1" href="{% url 'express:express-home' %}">
        <span class="label">Express</span>
        <span class="info-btn" tabindex="0" aria-label="Learn more about Express">i</span>
        <span class="tooltip">Write or record what’s on your mind — no rules, just space to express yourself.</span>
      </a>

      <a class="tile t2" href="{% url 'emotionfy:emotionize-home' %}">
        <span class="label">Emotionize</span>
        <span class="info-btn" tabindex="0" aria-label="Learn more about Emotionize">i</span>
        <span class="tooltip">Explore and name your emotions through gentle prompts and visuals.</span>
      </a>

      <a class="tile t3" href="{% url 'dailies:dailies-home' %}">
        <span class="label">Dailies</span>
        <span class="info-btn" tabindex="0" aria-label="Learn more about Dailies">i</span>
        <span class="tooltip">Morning and evening reflections to help you check in with how you feel each day.</span>
      </a>

      <a class="tile t4" href="{% url 'toolkit:toolkit-home' %}">
        <span class="label">Toolkit</span>
        <span class="info-btn" tabindex="0" aria-label="Learn more about Toolkit">i</span>
        <span class="tooltip">Quick grounding tools and calm exercises for support anytime.</span>
      </a>

    </div>

    <p class="helper-text">
      You can hover over the ⓘ icons to learn more about each option
    </p>

  </main>
</div>

{% endblock %}
